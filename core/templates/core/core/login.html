<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Login - SGEA</title>
	<link rel="stylesheet" href="/static/css/style.css">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<style>
		.login-container { max-width: 400px; margin: 60px auto; background: #fff; border-radius:10px; box-shadow:0 4px 24px rgba(0,0,0,0.10); padding:2.5rem 2rem; }
		.login-container h2 { text-align:center; margin-bottom:2rem; color:#003366 }
		.login-container input { padding:10px 12px; margin-bottom:1.2rem; border:1px solid #ccc; border-radius:5px; width:100%; box-sizing:border-box; height:44px; }
		.password-wrap { position:relative; display:flex; align-items:center; }
		.password-wrap input { padding-right:44px; }
		.toggle-password { position:absolute; right:10px; top:50%; transform:translateY(-50%); background:transparent; border:none; cursor:pointer; padding:4px; display:flex; align-items:center; justify-content:center; }
		.toggle-password svg { width:20px; height:20px; fill:#666; display:block; vertical-align:middle }
	</style>
</head>
<body>
	<div class="login-container">
		<h2>Login SGEA</h2>
		<div id="error" class="alert alert-error" style="display:none">Erro: usu√°rio ou senha inv√°lidos.</div>
		<form method="post" action="/login/">
			{% csrf_token %}
			<label for="username">Usu√°rio</label>
			<input type="text" id="username" name="username" required autofocus>
			<label for="password">Senha</label>
			<div class="password-wrap">
				<input type="password" id="password" name="password" required>
				<button type="button" class="toggle-password" aria-label="Mostrar senha" title="Mostrar senha">
					üëÅÔ∏è
				</button>
			</div>
			<div style="display:flex;gap:8px;align-items:center;margin-top:12px;">
				<button type="submit" class="btn primary" style="flex:1;min-height:44px;">Entrar</button>
				<button type="button" class="btn secondary" style="flex:1;min-height:44px;display:inline-flex;align-items:center;justify-content:center;" onclick="location.href='/register/'">Registrar</button>
			</div>
		</form>
	</div>
</body>
<script>
document.addEventListener('DOMContentLoaded', function(){
	// Use the shared toggle-password behavior used on register page
	document.querySelectorAll('.toggle-password').forEach(function(b){
		b.setAttribute('data-target', 'password');
		b.addEventListener('click', function(){
			const t = b.getAttribute('data-target');
			const inp = document.getElementById(t);
			if(!inp) return;
			inp.type = inp.type === 'password' ? 'text' : 'password';
			b.setAttribute('aria-label', inp.type === 'password' ? 'Mostrar senha' : 'Ocultar senha');
		});
	});
});
</script>
</html>
